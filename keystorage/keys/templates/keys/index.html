{% extends 'keys/base.html' %}
{% block content %}
{% load widget_tweaks %}

{% if user.is_authenticated %}

<form method='GET' >
    <p>
        Отражается {{ myFilter.qs.count }} из {{ myFilter.queryset.count }} строк. <a href='{{ request.path }}' >Очистить запрос</a>
        <input type='submit' value='Фильтр' class="btn btn-success m-1"/>
    </p>
    {% for field in form %}
    <div>
        {{ field.errors }}
        {{ field.label_tag }} {{ field }}
    </div>
    {% endfor %}

<table class="table">
<thead>
    <tr>
        <th scope="col">Значение ключа</th>
        <th scope="col">Пользователь</th>
        <th scope="col">KCV ключа</th>
        <th scope="col">Тип ключа</th>
        <th scope="col">Бой/Тест</th>
    </tr>
    <tr>
        <th scope="col"><input class="form-control" type="text" name="key"></th>
        <th scope="col"><input class="form-control" type="text" name="key_user"></th>
        <th scope="col"><input class="form-control" type="text" name="key_kcv"></th>
        <th scope="col"><input class="form-control" type="text" name="key_type"></th>
        <th scope="col"><input class="form-control" type="text" name="choice"></th>
    </tr>

</thead>
<tbody>

</form>
{% for item in data %}
    <tr>
        <td>{{item.key}}</td>
        <td>{{item.key_user}}</td>
        <td>{{item.key_kcv}}</td>
        <td>{{item.key_type}}</td>
        <td>{{item.choice}}</td>
{% endfor %}
    </tr>
</tbody>
</table>

{% else%}
<h4>Вы находитесь на портале для хранения криптографических ключей</h4>
<p>Доступ к данным возможен только при наличии соответствующего уровня доступа. </p>
<p>Обладателю соответствующего уровня доступа необходимо <a href="{% url 'login' %}">авторизоваться</a> используя полученный логин и пароль.</p>




{% endif%}
{% endblock content %}
